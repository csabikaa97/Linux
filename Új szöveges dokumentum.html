<!DOCTYPE html>
<head>
	<script>
		var orient='l';
		var speed=0;
		var r=70;
		var mapx=500;
		var mapy=500;
		var x=mapx/2;
		var y=mapy*0.92;
		var ballx=mapx/2;
		var bally=mapy/2;
		var ballr=20;
		var ballorient=135;
		var ballorient2="fel";
		var ballorient3=1;
		var keycodecustom;
		window.addEventListener('keydown', function(event) {
			console.log(event.keyCode);
			keycodecustom=event.keyCode;
		}, false);
		var loop = setInterval(DoIt,10);
		function DoIt() {
			switch(keycodecustom)
			{
				/*case 87: y=y-8; keycodecustom=0;
					if(y<0+r)
					{
						y=0+r;
					}
					break;
				*/
				case 65: x=x-8;	keycodecustom=0;
					if(x<0+r)
					{
						x=0+r;
					}
					break;
				/*case 83: y=y+8;	keycodecustom=0;
					if(y>mapy-r)
					{
						y=mapy-r;
					}
					break;
				*/
				case 68: x=x+8;	keycodecustom=0;
					if(x>mapx-r)
					{
						x=mapx-r;
					}
					break;
			}
				if(ballorient2=="fel")
				{
					if(bally!=0)
					{
						bally=bally-1;
					}
					else
					{
						ballorient2="le";
						bally=bally+1;
					}
				}
				if(ballorient2=="le")
				{
					bally=bally+1;
					if(bally==mapy-r)
					{
						ballorient2="fel";
						bally=bally-1;
					}
				}
				//1 jobb - 2 bal
				if(ballx<0+ballr)
				{
					ballorient3=1;
				}
				if(ballx>mapx-ballr)
				{
					ballorient3=2;
				}
				if(ballorient3==2)
				{
					ballx=ballx-1;
				}
				if(ballorient3==1)
				{
					ballx=ballx+1;
				}
			//if()
			var ball = canvas1.getContext('2d');
			ball.beginPath();
			ball.fillStyle="#0000ff";
			ball.clearRect(0,0,mapx,mapy);
			var circle = canvas1.getContext('2d');
			circle.beginPath();
			circle.fillStyle="#0000ff";
			circle.clearRect(0,0,mapx,mapy);
			//circle.arc(x, y, r, 0,Math.PI*2);
			ball.arc(ballx,bally,ballr,0,2*Math.PI)
			circle.rect(x-r,y-r,r*2,r*0.25);
			circle.closePath();
			circle.fill();
			//wasd-87,65,83,68
		}
	</script>
	<title>Joel meleg!</title>
	<style type="text/css">
		canvas { background-color: red;
				opacity: 0.5;
				}
	</style>
	<body>
		<canvas id="canvas1" width="500px" height="500px">
			
		</canvas>
	</body>
</head>